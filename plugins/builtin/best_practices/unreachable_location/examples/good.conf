http {
    server {
        # Different locations - all reachable
        location / {
            root /var/www;
        }
        location /api {
            proxy_pass http://backend;
        }

        # Regex order - specific patterns first
        location ~ /api/v1 {
            proxy_pass http://api-v1;
        }
        location ~ /api {
            proxy_pass http://api;
        }

        # ^~ with regex targeting a different path - no conflict
        location ^~ /images/ {
            alias /var/images;
        }
        location ~ ^/downloads/ {
            proxy_pass http://download;
        }
    }
}
