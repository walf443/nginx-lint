# Configuration with proxy_hide_header inheritance issue
http {
  server {
    listen 80;

    proxy_hide_header X-Powered-By;
    proxy_hide_header Server;

    location / {
      # Explicitly repeat parent directives since they are NOT inherited automatically
      proxy_hide_header X-Powered-By;
      proxy_hide_header Server;
      proxy_hide_header X-Debug;
      proxy_pass http://backend;
    }
  }
}
