# Regex alternation patterns
worker_processes auto;

events {
    worker_connections 1024;
}

http {
    server {
        listen 80;
        server_name regex.example.com;

        # Simple alternation
        location ~ ^/(css|js|images)/ {
            expires 30d;
        }

        # Alternation with extension
        location ~ \.(jpg|jpeg|png|gif|ico)$ {
            expires 1y;
        }

        # Complex alternation
        location ~ ^/(api|rest|graphql)/v[0-9]+/ {
            proxy_pass http://127.0.0.1:8080;
        }

        # Nested groups with alternation
        location ~ ^/((en|fr|de)/)?products/ {
            proxy_pass http://127.0.0.1:8080;
        }

        # Many alternatives
        location ~ \.(html|htm|shtml|xhtml)$ {
            expires 1h;
        }
    }
}
