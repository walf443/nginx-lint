# Regex with case sensitivity modifiers
worker_processes auto;

events {
    worker_connections 1024;
}

http {
    server {
        listen 80;
        server_name regex.example.com;

        # Case-sensitive match (~)
        location ~ ^/CaseSensitive {
            return 200 "Case sensitive";
        }

        # Case-insensitive match (~*)
        location ~* ^/caseinsensitive {
            return 200 "Case insensitive";
        }

        # Case-insensitive file extensions
        location ~* \.(JPG|JPEG|PNG|GIF)$ {
            expires 1y;
        }

        # Mixed case path
        location ~* ^/(Admin|ADMIN|admin)/ {
            auth_basic "Admin Area";
            auth_basic_user_file /etc/nginx/.htpasswd;
        }

        # Case-insensitive with quantifier
        location ~* ^/doc/[a-z]{2,5}$ {
            root /var/docs;
        }
    }
}
