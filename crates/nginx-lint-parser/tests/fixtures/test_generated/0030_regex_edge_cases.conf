# Regex edge cases
worker_processes auto;

events {
    worker_connections 1024;
}

http {
    server {
        listen 80;
        server_name regex.example.com;

        # Empty quantifier range
        location ~ ^/empty/[a-z]{0,}$ {
            return 200 "Zero or more";
        }

        # Single char quantifier
        location ~ ^/single/[a-z]{1}$ {
            return 200 "Exactly one";
        }

        # Large quantifier
        location ~ ^/long/[a-z]{1,100}$ {
            return 200 "Up to 100 chars";
        }

        # Consecutive quantifiers in pattern
        location ~ ^/multi/[0-9]{2,4}-[a-z]{3,6}-[0-9]{1,2}$ {
            return 200 "Multiple quantifiers";
        }

        # Quantifier after group
        location ~ ^/repeat/([a-z]{2}){2,4}$ {
            return 200 "Repeated group";
        }

        # Nested braces in different contexts
        location ~ ^/nested/\{[a-z]+\}$ {
            return 200 "Literal braces";
        }

        # Mixed special chars
        location ~ ^/special/[\[\]{}()]+$ {
            return 200 "Special chars class";
        }
    }
}
